webpackJsonp([2],{O5YD:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),e=a("5Fyp"),c=a("xKLp"),o=a("1f44"),l=a("OmhB"),r=a("NYxO"),v={mixins:[a("F4+m").a],name:"SongList",components:{Loading:l.a,Scroll:e.a},data:function(){return{songList:[],activeNum:0,loadingShow:!1,cat:"",offset:18,limit:18,pullup:!0}},methods:n()({},Object(r.d)({setSongList:"SET_SONGLIST"}),{songListClick:function(t){this.$router.push({path:"/song-list-square/"+t.id}),this.setSongList(t)},_getSongList:function(t,i,a,s,n){var e=this;this.cat=t,n||(this.loadingShow=!0),a||(this.songList=[]),"精品"===t?Object(c.a)(i,a).then(function(t){200===t.status&&"OK"===t.statusText&&e.createData(t)}):Object(c.b)(t,i,a,s).then(function(t){200===t.status&&"OK"===t.statusText&&e.createData(t)})},createData:function(t){var i=this;t.data.playlists.forEach(function(t){var a=Object(o.c)(t);i.songList.push(a)}),this.loadingShow=!1},changeActive:function(t){this.activeNum=t},waterFall:function(t){var i=!0,a=this.songList.length-1;i&&(i=!1,this._getSongList(this.cat,this.limit,this.songList[a].updateTime,this.offset,t),this.offset+=this.limit,i=!0)},loadData:function(){this.waterFall(!0)},list:function(t){var i=t.length>0?".5rem":"";this.$refs.slc.$el.style["padding-bottom"]=i,this.$refs.scroll.refresh()}}),created:function(){this._getSongList("精品",this.limit)},destroyed:function(){}},u={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("transition",{attrs:{name:"col-fade",mode:"out-in"}},[a("div",{attrs:{id:"song-list"}},[a("div",{staticClass:"head"},[a("router-link",{staticClass:"back-icon iconfont",attrs:{to:"/",tag:"span"}},[t._v("")]),a("h2",{staticClass:"title"},[t._v("歌单广场")])],1),t._v(" "),a("div",{staticClass:"nav-bar border-bottom"},[a("a",{staticClass:"nav-item",class:{"nav-item-active":0==t.activeNum},on:{click:function(i){t._getSongList("精品"),t.changeActive(0)}}},[t._v("精品")]),t._v(" "),a("a",{staticClass:"nav-item",class:{"nav-item-active":1==t.activeNum},on:{click:function(i){t._getSongList("欧美"),t.changeActive(1)}}},[t._v("欧美")]),t._v(" "),a("a",{staticClass:"nav-item",class:{"nav-item-active":2==t.activeNum},on:{click:function(i){t._getSongList("电子"),t.changeActive(2)}}},[t._v("电子")]),t._v(" "),a("a",{staticClass:"nav-item",class:{"nav-item-active":3==t.activeNum},on:{click:function(i){t._getSongList("流行"),t.changeActive(3)}}},[t._v("流行")]),t._v(" "),a("a",{staticClass:"nav-item",class:{"nav-item-active":4==t.activeNum},on:{click:function(i){t._getSongList("华语"),t.changeActive(4)}}},[t._v("华语")]),t._v(" "),a("a",{staticClass:"nav-item",class:{"nav-item-active":5==t.activeNum},on:{click:function(i){t._getSongList("舞曲"),t.changeActive(5)}}},[t._v("舞曲")])]),t._v(" "),a("scroll",{ref:"scroll",staticClass:"content-wrapper",attrs:{data:t.songList,pullup:t.pullup},on:{scrollToEnd:t.loadData}},[a("transition-group",{ref:"slc",staticClass:"song-list-container",attrs:{tag:"div",name:"list"}},[t._l(t.songList,function(i){return a("div",{key:i.id,ref:"listItem",refInFor:!0,staticClass:"song-list-wrap",on:{click:function(a){return t.songListClick(i)}}},[a("div",{staticClass:"song-list-img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.picUrl+"?param=200y200",expression:"item.picUrl + '?param=200y200'"}]})]),t._v(" "),a("h3",[t._v(t._s(i.name))])])}),t._v(" "),a("div",{key:"load",staticClass:"loading-container-end"},[a("loading")],1)],2)],1),t._v(" "),a("transition",{attrs:{name:"playlist"}},[a("router-view")],1)],1)])},staticRenderFns:[]};var g=a("VU/8")(v,u,!1,function(t){a("wyWR")},"data-v-4dc4d668",null);i.default=g.exports},wyWR:function(t,i){},xKLp:function(t,i,a){"use strict";i.b=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=(arguments[2],arguments[3]),n=a?"/top/playlist?cat="+t+"&limit="+i+"&offset="+a:"/top/playlist?cat="+t+"&limit="+i;return Object(s.a)(n)},i.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18,i=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"全部",n=i?"/top/playlist/highquality?cat="+a+"&limit="+t+"&before="+i:"/top/playlist/highquality?limit="+t;return Object(s.a)(n)},i.c=function(t){var i="/playlist/detail?id="+t;return Object(s.a)(i)};var s=a("rC09")}});
//# sourceMappingURL=2.082eed0afab5f5067a94.js.map